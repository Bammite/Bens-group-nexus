<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section Manager - Gestion des Trajets</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inria+Sans:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <p class="title">Gestion des Trajets</p>
            <button id="addTripBtn" class="btn-primary addTripBtn">+ Initialiser une livraison</button>
        </header>
        <!-- Barre de recherche et filtres -->
<section class="search-filter">
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Rechercher une livraison...">
        <button id="searchBtn" class="btn-primary">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        </button>
    </div>
    
    <div class="filter-options">
        <select id="statusFilter" class="filter-select">
            <option value="all">Tous les statuts</option>
            <option value="en cours">En cours</option>
            <option value="terminé">Terminé</option>
            <option value="annulé">Annulé</option>
        </select>
        
        <select id="dateFilter" class="filter-select">
            <option value="all">Toutes dates</option>
            <option value="today">Aujourd'hui</option>
            <option value="week">Cette semaine</option>
            <option value="month">Ce mois</option>
        </select>
        
        <button id="applyFilterBtn" class="btn-primary">Filtrer</button>
    </div>
</section>
        <section class="ongoing-trips">
            <div class="trajet enCours">
                <h2>Vos trajets en cours (<span id="countOngoing">0</span>)</h2>
                <div class="trips-list" id="tripsList">
                    <div class="ElementParDefaut">
                       <p>Vous n'avez aucune livraison en cours</p>
                       <br>
                       <button class="btn-primary addTripBtn">Initialiser une livraison</button>
                    </div>
                </div>
            </div>
            <div class="trajet historique">
                <h2>Historique (<span id="countHistory">0</span>)</h2>
                <div class="trips-list" id="historyList">
                    <p class="ElementParDefaut">Historique vide</p>
                </div>
            </div>
        </section>

        <!-- Modal pour ajouter un nouveau trajet -->
        <div id="tripModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Nouveau Trajet</h2>
                <form id="tripForm">
                    <div class="form-group">
                        <label for="missionName">Nom de la mission</label>
                        <input type="text" id="missionName" required>
                    </div>

                    <div class="form-group map-group">
                        <label>Lieu de départ</label>
                        <div id="departureMap" class="map"></div>
                        <input type="hidden" id="departureLat" required>
                        <input type="hidden" id="departureLng" required>
                        <input type="text" id="departureAddress" placeholder="Adresse de départ">
                    </div>

                    <div class="form-group map-group">
                        <label>Lieu d'arrivée</label>
                        <div id="arrivalMap" class="map"></div>
                        <input type="hidden" id="arrivalLat" required>
                        <input type="hidden" id="arrivalLng" required>
                        <input type="text" id="arrivalAddress" placeholder="Adresse d'arrivée">
                    </div>
                    <button type="submit" class="btn-primary">Enregistrer le Trajet</button>
                </form>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="js/script.js"></script>
    <script src="js/recherche.js"></script>
</body>
</html>